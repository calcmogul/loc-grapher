\documentclass{article}

\renewcommand{\title}{WPILib Lines of Code vs Commits}

\usepackage[margin=0.75in, landscape]{geometry}
\usepackage{hyperref}
\hypersetup{hidelinks,colorlinks=false,breaklinks=true,pdftitle=\title}
\urlstyle{same}
\usepackage{pgfplots}

\pgfplotsset{compat=1.17}

% #1: xmin
% #2: xmax
% #3: title
\newcommand{\graph}[3]{
  \begin{center}
    \LARGE \sffamily
    \begin{tikzpicture} [trim axis left, trim axis right]
      \begin{axis} [
        title=#3,
        xlabel=Commits,
        ylabel=Lines of Code,
        width=0.95\textwidth, height=0.75\textheight,
        scale only axis,
        xmin=#1,
        xmax=#2,
        ymin=0,
        grid=both,
        max space between ticks=28pt,
        xticklabel style={
          rotate=45,
          anchor=east,
          /pgf/number format/1000 sep={},
        },
        restrict x to domain=#1:,
        yticklabel style={
          /pgf/number format/.cd,
            fixed,
            precision=3,
            1000 sep={},
          /tikz/.cd,
        },
        scaled y ticks={base 10:-3},
        ]
        \addplot[blue, line width=1pt] table [col sep=comma] {data.csv};
      \end{axis}
    \end{tikzpicture}
  \end{center}
}

\newcommand{\trailer}{
  \small \sffamily
  Generated by \url{https://github.com/calcmogul/loc-grapher}.
}

\begin{document}
\pagenumbering{gobble}

% xmax git rev-list --count --before=2022 2022
\graph{0}{4575}{\title}
\trailer
\newpage

% xmin: git rev-list --count --before=v2019.4.1 2022
% xmax: git rev-list --count --before=v2020.3.2 2022
\graph{3448}{3956}{\title\ (2019 offseason)}
\trailer
\newpage

% xmin: git rev-list --count --before=v2020.3.2 2022
% xmax: git rev-list --count --before=v2021.3.1 2022
\graph{3956}{4505}{\title\ (2020 offseason)}
\trailer
\newpage

% xmin: git rev-list --count --before=v2021.3.1 2022
% xmax git rev-list --count --before=2022 2022
\graph{4505}{4575}{\title\ (2021 offseason)}
\trailer
\end{document}
